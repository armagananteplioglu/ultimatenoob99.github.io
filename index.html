<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <h1>Rock-Paper-Scissors Game</h1>
    <p>Select your move. Best of five wins. Good luck!</p>
   
   
    <div class="selection">
        <div class="rock"><a href="#"><img class="move" id="rockID" src="/media/rock.jpg" alt="picture of a rock"></a></div>
        <div class="paper"><a href="#"><img class="move" id="paperID" src="/media/paper.jpeg" alt="picture of some papers"></a></div>
        <div class="scissors"><a href="#"><img class="move" id="scissorsID" src="/media/scissors.jpg" alt="picture of a scissors"></a></div>
    </div>

    <p id="dynamicText">Click on a move to start the game.</p>
    <p id="announcer"></p>

<script defer>

let tallyPlayer = 0;
let tallyComputer = 0;

// random number generation

function resultGenerator () {
    let a = Math.random();

    if (a <= 0.33 ) {
        tallyComputer++
        document.getElementById("dynamicText").textContent="Player's score: " + tallyPlayer + " Computer's score: " + tallyComputer
        document.getElementById("announcer").textContent="Oh no computer won this round."
    }
    
    else if (a <= 0.66) {
        document.getElementById("dynamicText").textContent="Player's score: " + tallyPlayer + " Computer's score: " + tallyComputer
        document.getElementById("announcer").textContent="It is a draw. You and computer selected the same move."
    }
    
    else {
        tallyPlayer++
        document.getElementById("dynamicText").textContent="Player's score: " + tallyPlayer + " Computer's score: " + tallyComputer
        document.getElementById("announcer").textContent="You won this round. Well done!"
    }

}

//click event

function clickListener () {
    if (tallyComputer < 3 && tallyPlayer < 3) {
        document.getElementById ("rockID").addEventListener("click", game);
        document.getElementById ("paperID").addEventListener("click", game);
        document.getElementById ("scissorsID").addEventListener("click", game);
    }
}


clickListener()

//game finishing sequence

function gameFinisher () {
    if (tallyPlayer === 3) {
    document.getElementById("dynamicText").textContent="Player's score: " + tallyPlayer + " Computer's score: " + tallyComputer
    document.getElementById("announcer").textContent="Congratulations, you have won this game. Refresh the page to play a new round."
    document.getElementById("rockID").style.pointerEvents = "none";
    document.getElementById("paperID").style.pointerEvents = "none"
    document.getElementById("scissorsID").style.pointerEvents = "none"    
}

    else if (tallyComputer === 3) {
    document.getElementById("dynamicText").textContent="Player's score: " + tallyPlayer + " Computer's score: " + tallyComputer
    document.getElementById("announcer").textContent="Oh no, looks like computer won this game. Refresh the page to play a new round."
    document.getElementById("rockID").style.pointerEvents = "none";
    document.getElementById("paperID").style.pointerEvents = "none"
    document.getElementById("scissorsID").style.pointerEvents = "none"
    }
}

function game () {
    resultGenerator ();
    gameFinisher ();
}


</script>

</body>
</html>
